(()=>{let e=!1,t=a();document.getElementById("Board");const n=document.getElementById("playButton"),l=document.getElementById("iconPlayButton"),o=document.getElementById("eraseButton"),c=document.getElementById("randomButton");function a(e=!1){return e?new Array(29).fill(null).map((()=>new Array(60).fill(0))):new Array(29).fill(null).map((()=>new Array(60).fill(null).map((()=>Math.floor(2*Math.random())))))}function d(e){document.getElementById("Board").innerHTML="";for(let t=0;t<29;t++){i(t);for(let n=0;n<60;n++)m(t,n,e[t][n])}}function i(e){let t=document.createElement("div");t.className="Row",t.id=`Row-${e}`,document.getElementById("Board").appendChild(t)}function m(e,n,l){let o=document.createElement("div");o.className="Cell "+(1==l?"alive":""),o.id=`Cell-${e},${n}`,o.onclick=()=>function(e,n){const l=t[e][n];1==l?(t[e][n]=0,document.getElementById(`Cell-${e},${n}`).className="Cell"):0==l&&(t[e][n]=1,document.getElementById(`Cell-${e},${n}`).className="Cell alive")}(e,n),document.getElementById(`Row-${e}`).appendChild(o)}async function r(e){return new Promise((t=>setTimeout(t,e)))}window.addEventListener("load",(async n=>{for(d(t);;)await r(100),e&&(t=function(e){const t=e.map((e=>[...e]));for(let n=0;n<e.length;n++)for(let l=0;l<e[n].length;l++){const o=e[n][l];let c=0;for(let t=-1;t<2;t++)for(let o=-1;o<2;o++){if(0===t&&0===o)continue;const a=l+t,d=n+o;a>=0&&d>=0&&a<60&&d<29&&(c+=e[n+o][l+t])}1===o&&c<2||1===o&&c>3?t[n][l]=0:0===o&&3===c&&(t[n][l]=1)}return t}(t),d(t))})),n.addEventListener("click",(()=>{0==e?(e=!0,l.className="bi bi-pause-circle-fill icon"):(e=!1,l.className="bi bi-play-circle-fill icon")})),o.addEventListener("click",(()=>{t=a(!0),d(t)})),c.addEventListener("click",(()=>{t=a(!1),d(t)}))})();